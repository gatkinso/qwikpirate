Seriously.  Read the code.  It is meant to be simple.